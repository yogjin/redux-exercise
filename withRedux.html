<html>
  <head>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/redux/4.2.0/redux.min.js"
      integrity="sha512-1/8Tj23BRrWnKZXeBruk6wTnsMJbi/lJsk9bsRgVwb6j5q39n0A00gFjbCTaDo5l5XrPVv4DZXftrJExhRF/Ug=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
  </head>
  <body>
    <div id="header"></div>
    <div id="toc"></div>
    <div id="control"></div>
    <div id="content"></div>
    <script>
      function reducer(state, action) {
        if (state === undefined) {
          return {
            contents: [
              { id: 1, title: 'HTML', desc: 'HTML is static' },
              { id: 2, title: 'CSS', desc: 'CSS is style' },
            ],
            selectedId: 1,
          };
        }
        switch (action.type) {
          case 'SELECT':
            return { ...state, selectedId: action.id };
          case 'default':
            return state;
        }
      }
      const store = Redux.createStore(reducer);

      function Header() {
        document.querySelector('#header').innerHTML = `
        <header>
          <h1>WEB</h1>
          <p>Hello, WEB!</p>
        </header>`;
      }

      function TOC() {
        let liTags = '';
        const state = store.getState();
        state.contents.forEach((content, index) => {
          liTags += `<li><a onclick="
            event.preventDefault();
            const action = { type: 'SELECT', id: ${content.id} };
            store.dispatch(action);
            "
          href="${index}.${content.title}">${content.title}</a></li>`;
        });
        document.querySelector('#toc').innerHTML = `
        <nav>
          <ol>
            ${liTags}
          </ol>
        </nav>`;
      }

      function Control() {
        document.querySelector('#control').innerHTML = `
        <ul>
          <li><a href="/create">create</a></li>
          <li><button>delete</button></li>
        </ul>`;
      }

      function Content() {
        document.querySelector('#content').innerHTML = `
          <article>
            <p>HTML is ... static</p>
          </article>
        `;
      }

      function render() {
        Header();
        TOC();
        Control();
        Content();
      }

      render();
    </script>
  </body>
</html>
